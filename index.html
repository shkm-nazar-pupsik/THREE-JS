<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/style.css" />
    <script type="importmap">
      {
        "imports": {
          "three": "https://cdn.jsdelivr.net/npm/three@0.141.0/build/three.module.js",
          "three/examples/jsm/loaders/FontLoader": "https://cdn.jsdelivr.net/npm/three@0.141.0/examples/jsm/loaders/FontLoader.js",
          "three/examples/jsm/geometries/TextGeometry": "https://cdn.jsdelivr.net/npm/three@0.141.0/examples/jsm/geometries/TextGeometry.js",
          "three/examples/jsm/controls/OrbitControls": "https://cdn.jsdelivr.net/npm/three@0.141.0/examples/jsm/controls/OrbitControls.js",
          "three": "https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.module.js",
          "three/examples/jsm/controls/TrackballControls": "https://cdn.jsdelivr.net/npm/three@0.141.0/examples/jsm/controls/TrackballControls.js",
          "three/examples/jsm/renderers/CSS3DRenderer": "https://cdn.jsdelivr.net/npm/three@0.141.0/examples/jsm/renderers/CSS3DRenderer.js"
        }
      }
    </script>

    <title>Document</title>
  </head>
  <body>
    <header class="header">
      <h2 class="nigger-title">nigger <span class="header-slash">/</span></h2>
      <div class="links-container">
        <a href="" class="header-links">Hello</a>
        <a href="" class="header-links">About</a>
        <a href="" class="header-links">News</a>
      </div>
      <button class="header-button">Sign Up</button>
    </header>
    <h1 class="main-title"></h1>
    <section class="camp">
      <h2 class="camp-title">Nigger Store</h2>
      <div class="camp-wrapp">
        <div class="card">
          <div class="card__content">
            <img class="card__image" src="img/kid-nigga.jpg" alt="" />
            <h2 class="card__title">Дитина негр</h2>
            <p class="card__description">
              Дитина негр являється добрим рішенням для молодої пари, які не
              хочуть народжувати дітей. Можна вирости дитину працьовиту яка буде
              працювати на вас, а якщо не захоче можете бити по сраці. Коштує
              2000$
            </p>
          </div>
        </div>
        <div class="card">
          <div class="card__content">
            <img class="card__image" src="img/teen-nigga.jpg" alt="bukaCamp" />
            <h2 class="card__title">Підліток негр</h2>
            <p class="card__description">
              Підліток негр хороше рішення для старої пари, вже навчаний життю і
              може працювати на роботі або працювати по дому, але може не
              слухатися тому треба бути строгим. Коштує 4500$
            </p>
          </div>
        </div>
        <div class="card">
          <div class="card__content">
            <img class="card__image" src="img/adult-nigga.jpg" alt="" />
            <h2 class="card__title">Дорослий негр</h2>
            <p class="card__description">
              Дорослий негр хороше рішення для багатих сімей, вміє багато речей,
              може робити любу роботу яку в захочите, дуже слухняний можете
              навіть пригощати його. Коштує 10,000$
            </p>
          </div>
        </div>
      </div>
    </section>
    <div class="fire-js"></div>
    <div id="container"></div>
    <div id="blocker"></div>
    <footer class="footer">
      <h2 class="footer-title"></h2>
    </footer>
    <script src="index.js"></script>
    <script type="module">
      import * as THREE from "three";
      import { FontLoader } from "three/examples/jsm/loaders/FontLoader";
      import { TextGeometry } from "three/examples/jsm/geometries/TextGeometry";
      import { OrbitControls } from "three/examples/jsm/controls/OrbitControls";
      import { TrackballControls } from "three/examples/jsm/controls/TrackballControls";
      import {
        CSS3DRenderer,
        CSS3DObject,
      } from "three/examples/jsm/renderers/CSS3DRenderer";

      const mainTitle = document.querySelector(".main-title");
      const scene = new THREE.Scene();
      const renderer = new THREE.WebGLRenderer({
        alpha: true,
        antialias: true,
      });
      renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
      renderer.setClearColor(0x000000, 0);
      mainTitle.appendChild(renderer.domElement);
      const initialPosition = new THREE.Vector3(0, 0, 200);
      const camera = new THREE.PerspectiveCamera(
        45,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );
      camera.position.copy(initialPosition);
      scene.add(camera);
      const fontLoader = new FontLoader();
      fontLoader.load(
        "https://assets.codepen.io/2017324/helvetiker_bold.typeface.json",
        (font) => {
          const textGeometry = new TextGeometry("Niggers", {
            font,
            size: 25,
            height: 6,
            curveSegments: 30,
            bevelEnabled: true,
            bevelThickness: 1,
            bevelSize: 0.5,
            bevelSegments: 20,
          });
          textGeometry.center();
          const text = new THREE.Mesh(
            textGeometry,
            new THREE.MeshPhongMaterial({
              color: "#795548",
              emissive: "#795548",
              specular: "#795548",
              shininess: 0,
            })
          );
          scene.add(text);
          animate();
        }
      );
      const controls = new OrbitControls(camera, renderer.domElement);
      renderer.setSize(window.innerWidth / 2, window.innerHeight / 2);
      function animate() {
        renderer.render(scene, camera);
        requestAnimationFrame(animate);
        controls.update();
        camera.updateProjectionMatrix();
        controls.enableDamping = true;
        controls.enableZoom = false;
        controls.minPolarAngle = Math.PI / 2;
        controls.maxPolarAngle = Math.PI / 2;
        window.addEventListener("resize", () => {});
      }
      // fire
      const fireScene = new THREE.Scene();
      const fireCamera = new THREE.PerspectiveCamera(
        45,
        innerWidth / innerHeight,
        0.1,
        1000
      );
      fireScene.add(fireCamera);
      fireCamera.position.set(0, 1, 8);
      const fireRenderer = new THREE.WebGLRenderer({
        alpha: true,
        antialias: true,
      });
      fireRenderer.setClearColor(0x000000, 0);
      fireRenderer.setSize("1100", "1000");
      const fireDiv = document.querySelector(".fire-js");
      fireDiv.appendChild(fireRenderer.domElement);
      const fireTexture = new THREE.TextureLoader().load("img/asset.png");
      const fireGeometry = new THREE.PlaneGeometry(3, 4);
      const fireMeshBasic = new THREE.MeshBasicMaterial({
        map: fireTexture,
        transparent: true,
      });
      const fireMesh = new THREE.Mesh(fireGeometry, fireMeshBasic);
      fireScene.add(fireMesh);
      const fireImg = document.querySelector(".fire-js");
      const clock = new THREE.Clock();
      function fireAnimation() {
        requestAnimationFrame(fireAnimation);
        const adnriiLox = clock.getElapsedTime();
        fireMesh.rotation.y = Math.sin(adnriiLox * 0.5) * 0.2;
        fireMesh.position.y = Math.sin(adnriiLox * 2) * 0.1;
        fireRenderer.render(fireScene, fireCamera);
      }
      fireAnimation();

      // cube

      const cubeScene = new THREE.Scene();
      const cubeCamera = new THREE.PerspectiveCamera(
        45,
        innerWidth / innerHeight,
        1,
        5000
      );
      cubeCamera.position.set(500, 2500, 100);
      const cubeRenderer = new CSS3DRenderer();
      cubeRenderer.setSize("1300", window.innerHeight);
      const cubeContainer = document.getElementById("container");
      cubeContainer.appendChild(cubeRenderer.domElement);

      const group = new THREE.Group();

      group.add(new Cube("img/cube-nigger1.jpg", 0, 0, 240, 0));
      group.add(new Cube("img/cube-nigger2.jpg", 240, 0, 0, Math.PI / 2));
      group.add(new Cube("img/cube-nigger3.jpg", 0, 0, -240, Math.PI));
      group.add(new Cube("img/cube-nigger4.jpg", -240, 0, 0, -Math.PI / 2));

      cubeScene.add(group);
      function Cube(imagePath, x, y, z, ry) {
        const div = document.createElement("div");
        div.style.width = "480px";
        div.style.height = "360px";
        div.style.backgroundColor = "black";

        const img = document.createElement("img");
        img.src = imagePath;
        img.style.width = "480px";
        img.style.height = "360px";
        console.log(img);
        div.appendChild(img);

        const cssObject = new CSS3DObject(div);
        cssObject.position.set(x, y, z);
        cssObject.rotation.y = ry;

        return cssObject;
      }

      const trackball = new TrackballControls(
        cubeCamera,
        cubeRenderer.domElement
      );

      trackball.rotateSpeed = 4.0;

      const blocker = document.getElementById("blocker");

      blocker.style.display = "none";

      trackball.addEventListener("start", function () {
        blocker.style.display = "";
      });

      trackball.addEventListener("end", function () {
        blocker.style.display = "none";
      });

      function cubeAnimate() {
        requestAnimationFrame(cubeAnimate);
        trackball.update();
        group.rotation.y += 0.01;
        cubeRenderer.render(cubeScene, cubeCamera);
      }

      cubeAnimate();
      // footer 
      const footerScene = new THREE.Scene()
      const footerCamera = new THREE.PerspectiveCamera(45,innerWidth / innerHeight, 1, 5000)
      const footerRenderer = new THREE.WebGLRenderer({
        alpha: true,
        antialias: true,
      });
      const footerTitle = document.querySelector(".footer-title")
      footerRenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
      footerRenderer.setClearColor(0x000000, 0);
      footerTitle.appendChild(footerRenderer.domElement);
      footerCamera.position.set(0, 0, 500)
      footerScene.add(footerCamera)

      const footerFontLoader = new FontLoader();
      fontLoader.load(
        "https://assets.codepen.io/2017324/helvetiker_bold.typeface.json",
        (font) => {
          const footerTextGeometry = new TextGeometry("Made by Holodinskiy Nazar ©", {
            font,
            size: 35,
            height: 6,
            curveSegments: 30,
            bevelEnabled: true,
            bevelThickness: 1,
            bevelSize: 0.5,
            bevelSegments: 20,
          });
          footerTextGeometry.center();
          const footerText = new THREE.Mesh(
            footerTextGeometry,
            new THREE.MeshPhongMaterial({
              color: "#d32f2f",
              emissive: "#d32f2f",
              specular: "#d32f2f",
              shininess: 0,
            })
          );
          footerScene.add(footerText);
          footerAnimate();
        }
      );
      const footerControls = new OrbitControls(footerCamera, footerRenderer.domElement);
      footerRenderer.setSize(window.innerWidth, window.innerHeight);
      function footerAnimate() {
        footerRenderer.render(footerScene, footerCamera);
        requestAnimationFrame(footerAnimate);
        footerControls.update();
        footerCamera.updateProjectionMatrix();
        footerControls.enableDamping = true;
        footerControls.enableZoom = false;
        footerControls.minPolarAngle = Math.PI / 2;
        footerControls.maxPolarAngle = Math.PI / 2;
        window.addEventListener("resize", () => {});
      }
    </script>
  </body>
</html>
